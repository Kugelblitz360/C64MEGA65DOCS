<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Working with disks and drives - C64 for MEGA65 User Documentation</title><meta name="description" content="The internal 1541 simulation (Mounted disks) The C64 Core does come with an advanced implementation of the 1541 drive which can mount .d64 images stored&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://kugelblitz360.github.io/C64MEGA65DOCS/working-with-disks-and-drives.html"><meta property="og:title" content="Working with disks and drives"><meta property="og:site_name" content="C64 for MEGA65 User Documentation"><meta property="og:description" content="The internal 1541 simulation (Mounted disks) The C64 Core does come with an advanced implementation of the 1541 drive which can mount .d64 images stored&hellip;"><meta property="og:url" content="https://kugelblitz360.github.io/C64MEGA65DOCS/working-with-disks-and-drives.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://kugelblitz360.github.io/C64MEGA65DOCS/assets/css/style.css?v=0cd575c2bd665e7a87ed81f6cd474644"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://kugelblitz360.github.io/C64MEGA65DOCS/working-with-disks-and-drives.html"},"headline":"Working with disks and drives","datePublished":"2024-08-10T17:00","dateModified":"2024-09-08T01:16","description":"The internal 1541 simulation (Mounted disks) The C64 Core does come with an advanced implementation of the 1541 drive which can mount .d64 images stored&hellip;","author":{"@type":"Person","name":"Boris Schneider-Johne","url":"https://kugelblitz360.github.io/C64MEGA65DOCS/authors/boris-schneider-johne/"},"publisher":{"@type":"Organization","name":"Boris Schneider-Johne"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><header class="top"><div class="top__logo"><a class="logo" href="https://kugelblitz360.github.io/C64MEGA65DOCS/">C64 for MEGA65 User Documentation</a></div><div class="top__links"><a href="https://github.com/MJoergen/C64MEGA65" class="top__links-url" aria-label="Github" title="Github" target="_blank" rel="noopener"><svg height="24" width="24"><use xlink:href="https://kugelblitz360.github.io/C64MEGA65DOCS/assets/svg/svg-map.svg#github"></use></svg></a></div><button class="navbar__toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button></header><main class="main post"><div class="main__left"><div class="main__left-inner"><div class="main__left-content"><article class="content"><header><h1 class="content__title">Working with disks and drives</h1></header><div class="content__entry"><h2 id="the-internal-1541-simulation-mounted-disks">The internal 1541 simulation (Mounted disks)</h2><p>The C64 Core does come with an advanced implementation of the 1541 drive which can mount <code>.d64</code> images stored on your SD Card. It can not simulate other drives and it does not simulate GCR-encoding images in <code>.g64</code> format. This means that no heavily copy protected software will run when loaded as an image. Both 35 track and 40 track images are supported.</p><p>This “internal” 1541 drive always is device #8. This leads to conflicts when you connect a real 1541 (or similar) to the MEGA65 which is also a #8. Whenever you mount a <code>.d64</code> image, make sure that you have no #8 device connected (or turn off the IEC bus).</p><p>The C64 Core can only mount images that are already stored on the SD Card. If you think you will need an empty <code>.d64</code> image to save programs or games, you need to create them externally and put them on the SD Card first. For your convenience you can download an empty disk image <a href="empty.d64">here</a>.</p><h3 id="using-multi-disk-programs">Using multi-disk programs</h3><p>You can mount a new image any time, so programs that come on multiple disks can be used. Just mount the image of the next disk or diskside when you are asked to switch disks by the program. The C64 Core does not support automount lists or playlists, you have do manually mount the disks from the <kbd>Help</kbd> menu.</p><h3 id="led-information-of-disk-status--disk-flush">LED information of disk status / disk flush</h3><p>The drive light of the MEGA65 shows you the current status of the mounted disk:</p><ul><li>LED off: No disk access</li><li>LED green: The C64 is accessing the mounted disk</li><li>LED blinking green rapidly: There has been an error when the C64 accessed the disk</li><li>LED yellow: The MEGA65 is updating the <code>.d64</code> file currently mounted on the SD card.</li></ul><p>It is important to know that there is a tiny delay between the C64 writing something to the disk and the <code>.d64</code> file on the SD card getting updated with the data written to the disk. This is why you will see the drive led quickly turn from green to yellow after the C64 is done with saving. This is the process of actually saving all the changes to the SD card. It happens seamlessly in the background, you do not need to do anything specific.</p><p>To prevent data corruption after saving something: <strong>Never turn the MEGA65 off or remove the SD card while the led is green or before the drive led turned yellow and went off afterwards.</strong></p><p>Sometimes the C64 saves things “in chunks” / “in batches”, so that it might happen that you see the drive led being green, then yellow, then off and then green/yellow/off for a second or third time. Always give the system the time to settle before you turn it off or reset it or remove the SD card.</p><p>If you did not save anything, then the drive led will not turn yellow.</p><h3 id="supported-d64-variations">Supported .d64 variations</h3><p>The <code>.d64</code> format has been extended several times into the following variations that can only be differentiated by their filesize. The Core does only support 35 or 40 track images without an error map.</p><table><thead><tr><th align="center">Disk Type</th><th align="center">File Size</th><th align="left">Supported</th></tr></thead><tbody><tr><td align="center">35 track, no errors</td><td align="center">174848</td><td align="left">YES</td></tr><tr><td align="center">35 track, 683 error bytes</td><td align="center">175531</td><td align="left">no</td></tr><tr><td align="center">40 track, no errors</td><td align="center">196608</td><td align="left">YES</td></tr><tr><td align="center">40 track, 768 error bytes</td><td align="center">197376</td><td align="left">no</td></tr><tr><td align="center">42 track, no errors</td><td align="center">205312</td><td align="left">no</td></tr><tr><td align="center">42 track, 802 error bytes</td><td align="center">206114</td><td align="left">no</td></tr></tbody></table><p>The Core will only load <code>.d64</code> files with either 174848 bytes or 196608 bytes correctly.</p><h2 id="connecting-an-external-drive">Connecting an external drive</h2><p>The MEGA65 has an IEC-Port for round plugs with six pins. You can directly connect ANY device that was built for the Commodore 64 and it should work as intended. This of course includes all revisions of the 1541 drive.</p><p>Additional extensions with extra cables (e.g. DolphinDOS) are not supported.</p><p>The drive LED of the MEGA65 will not light up when using external drives.</p><p>Please make sure that you do not mount a .d64 image when you have a device with the #8 on the IEC bus.</p><h3 id="sd2iec-and-pi1541">SD2IEC and Pi1541</h3><p>These modern solid-state replacements for 1541 drives are wide-spread and, in theory, fully supported. The hardware designs for these devices is open source and the software can be downloaded free of charge. This has lead to many different small vendors building devices based on these designs.</p><p>During our testing with the MEGA65 we have found a number of devices that have less-than-ideal implementations of the IEC bus. This bus, a child of the late 1970s, works by constantly having 5 volts power on its lines that can be “pulled down” by a device on the bus. Roughly, instead of the device issuing a signal it takes away the signal. This is a cool solution to daisy-chain devices, so having a device 8, 9 and 10 on the same wires and even able to use Y-cables to connect several devices.</p><p>But: You constantly power the lines of the bus with 5 Volts and the MEGA65 is really good in doing this. While the good old original hardware does not mind, some of modern IEC-devices show a phenomenom called “back powering”. <strong>Even if you do not connect them to power, they light up when you connect them to the IEC bus.</strong></p><p>We own several iterations of both the Pi1541 and SD2IEC that show this behaviour when connected to a R6 MEGA65 board. Once a device shows being affected by this back-powering, it also leads to further problems especially if you want several devices on the bus, with data transmission and sometimes even total crashes.</p><p>We were unable to test every device combination and especially the multitude of SD2IEC devices in the market. <em>As of the beginning of August 2024, the only device that reliably worked and showed no back-power problem is the SD2IEC+ device from tfw8b.com.</em> We will expand this to other devices proven to work in the upcoming weeks.</p><p><strong>When you are using an SD2IEC or Pi1541 device, take the following advice:</strong></p><ul><li>Get a really good power supply. Do not take the four year old cheap phone charger still lying around.</li><li>Test out whether the device LEDs light up or flicker when you have disconnected power to the device but the MEGA65 turns on. If you see this effect, please test your device thoroughly to make sure data transfer is not affected.</li><li>Do not connect more than one “modern” device to the IEC bus. Two or three classic drives are OK. Mixing and matching modern and classic device might have side effects.</li></ul><p>This section will be updated after we have run more tests on more MEGA65. Please also send us your observations in the Discord channel.</p></div><footer><div class="content__footer-top"><div class="content__meta"><time datetime="2024-08-10T17:00">August 10, 2024 </time><span>Updated on: <time datetime="2024-09-08T01:16">September 8, 2024</time></span></div></div></footer></article></div><aside class="main__left-aside"><div class="main__left-aside__inner"><h3>On this page</h3><nav class="aside-toc" id="aside-toc"></nav></div></aside></div></div><div class="main__right"><div class="main__right-inner"><nav class="navbar"><ul class="navbar__menu"><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/" target="_self">Start Page</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/features.html" target="_self">Overview of Features</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/installation.html" target="_self">MEGA65 Revisions and Installation</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/the-main-menu.html" target="_self">The Main Menu</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/working-with-the-file-browser.html" target="_self">The File Browser</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/go64-vs-c64-core.html" target="_self">GO64 vs. C64 Core</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/vga-and-hdmi-output.html" target="_self">VGA and HDMI Output</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/audio-output-and-sid.html" target="_self">Audio output and SID</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/joysticks-paddles-mice.html" target="_self">Joysticks and other controllers</a></li><li class="active"><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/working-with-disks-and-drives.html" target="_self">Working with disks and drives</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/saving-data-with-the-c64-core.html" target="_self">Saving data with the C64 Core</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/c64-cartridges.html" target="_self">C64 Cartridges</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/the-1750-ram-expansion-unit.html" target="_self">The 1750 RAM Expansion Unit</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/jiffydos-and-alternative-kernals.html" target="_self">JiffyDOS and alternative Kernals</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/resetting-the-core.html" target="_self">Resetting the Core</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/testing.html" target="_self">Testing the Core for Release</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/future-versions-and-roadmap.html" target="_self">Future versions and Roadmap</a></li><li><a href="https://kugelblitz360.github.io/C64MEGA65DOCS/faq-and-other-stuff.html" target="_self">Troubleshooting and FAQ</a></li></ul></nav><div class="footer main__right-footer"><div class="footer__copy">Created with Publii and ProDocs by Boris Schneider-Johne</div></div></div></div></main><footer class="footer"><div class="footer__wrap"><div class="footer__inner"><div class="footer__copy">Created with Publii and ProDocs by Boris Schneider-Johne</div></div></div></footer><div class="content__progress" id="js-content__progress" aria-hidden="true"></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',        
        submenuWidth: 300,        
        mobileMenuExpandableSubmenus: true,
        isHoverMenu: false,
        ariaButtonAttribute: 'aria-expanded',
   };</script><script src="https://kugelblitz360.github.io/C64MEGA65DOCS/assets/js/html-contents.min.js?v=169077c370ab8ca62b029845f80f7fd5" defer="defer"></script><script>document.addEventListener("DOMContentLoaded", function(event) {
            htmlContents('#aside-toc', {
                area: '.content__entry',
                top: 2,
                bottom: 3,
                listType: 'o',
                filter: function(arr) {
                    return !arr.matches('.noOutline')
                },
                addIds: true,
                addLinks: true
            });

            setTimeout(function() {
                handleActiveClass('#aside-toc');
            }, 0);
        })</script><script defer="defer" src="https://kugelblitz360.github.io/C64MEGA65DOCS/assets/js/scripts.min.js?v=4fce2b30433039b19e7a444fe8ab80b7"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>